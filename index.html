<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì—Ä–∞ "–†–æ–∑–ø—ñ–∑–Ω–∞–π –µ–º–æ—Ü—ñ—é"</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 10px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .game-container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            max-width: 600px;
            width: 100%;
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        h1 {
            color: #4a5568;
            font-size: clamp(1.5em, 4vw, 2.5em);
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            line-height: 1.2;
        }
        
        .emotion-display {
            font-size: clamp(4em, 15vw, 8em);
            margin: 20px 0;
            animation: bounce 2s infinite;
            line-height: 1;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .question {
            font-size: clamp(1.1em, 3vw, 1.5em);
            color: #2d3748;
            margin-bottom: 20px;
            font-weight: bold;
            line-height: 1.3;
        }
        
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .option-btn {
            background: linear-gradient(145deg, #f7fafc, #edf2f7);
            border: 3px solid #e2e8f0;
            border-radius: 15px;
            padding: 15px 10px;
            font-size: clamp(1em, 2.5vw, 1.2em);
            font-weight: bold;
            color: #4a5568;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            word-wrap: break-word;
        }
        
        .option-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
            background: linear-gradient(145deg, #e2e8f0, #cbd5e0);
        }
        
        .option-btn:active {
            transform: translateY(-1px);
        }
        
        .option-btn.correct {
            background: linear-gradient(145deg, #68d391, #48bb78);
            color: white;
            border-color: #38a169;
        }
        
        .option-btn.wrong {
            background: linear-gradient(145deg, #fc8181, #f56565);
            color: white;
            border-color: #e53e3e;
        }
        
        .score {
            font-size: clamp(1.1em, 3vw, 1.3em);
            color: #4a5568;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .next-btn, .restart-btn {
            background: linear-gradient(145deg, #4299e1, #3182ce);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 12px 24px;
            font-size: clamp(1em, 2.5vw, 1.2em);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
            min-height: 50px;
            touch-action: manipulation;
        }
        
        .next-btn:hover, .restart-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }
        
        .next-btn:active, .restart-btn:active {
            transform: translateY(0);
        }
        
        .feedback {
            font-size: clamp(1.1em, 3vw, 1.4em);
            font-weight: bold;
            margin: 15px 0;
            padding: 12px;
            border-radius: 10px;
            line-height: 1.3;
        }
        
        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .feedback.wrong {
            background: #fed7d7;
            color: #742a2a;
        }
        
        .final-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
        }
        
        .final-score h2 {
            font-size: clamp(1.3em, 4vw, 2em);
            margin-bottom: 10px;
        }
        
        .final-score p {
            font-size: clamp(1em, 2.5vw, 1.2em);
            margin: 8px 0;
            line-height: 1.4;
        }
        
        .restart-btn {
            background: linear-gradient(145deg, #38a169, #2f855a);
            margin-top: 15px;
        }
        
        /* –ú–æ–±—ñ–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ */
        @media (max-width: 480px) {
            body {
                padding: 5px;
            }
            
            .game-container {
                padding: 15px;
                border-radius: 15px;
                min-height: 90vh;
            }
            
            .options {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .option-btn {
                padding: 12px 8px;
                min-height: 55px;
            }
            
            .emotion-display {
                margin: 15px 0;
            }
            
            .question {
                margin-bottom: 15px;
            }
            
            .feedback {
                margin: 12px 0;
                padding: 10px;
            }
        }
        
        /* –ü–ª–∞–Ω—à–µ—Ç–∏ */
        @media (min-width: 481px) and (max-width: 768px) {
            .options {
                grid-template-columns: repeat(2, 1fr);
                gap: 12px;
            }
        }
        
        /* –í–µ–ª–∏–∫—ñ –µ–∫—Ä–∞–Ω–∏ */
        @media (min-width: 769px) {
            .options {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .game-container {
                padding: 30px;
            }
        }
        
        /* –õ–∞–Ω–¥—à–∞—Ñ—Ç–Ω–∞ –æ—Ä—ñ—î–Ω—Ç–∞—Ü—ñ—è –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö */
        @media (max-height: 500px) and (orientation: landscape) {
            .game-container {
                min-height: 95vh;
                padding: 10px;
            }
            
            .emotion-display {
                font-size: clamp(3em, 12vw, 6em);
                margin: 10px 0;
            }
            
            h1 {
                margin-bottom: 10px;
            }
            
            .question {
                margin-bottom: 12px;
            }
            
            .options {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
            }
            
            .option-btn {
                padding: 8px 6px;
                min-height: 45px;
            }
        }
        
        /* –í–∏—Å–æ–∫—ñ –µ–∫—Ä–∞–Ω–∏ */
        @media (min-height: 800px) {
            .game-container {
                max-height: 90vh;
            }
        }
        
        /* –¢–µ–º–Ω–∞ —Ç–µ–º–∞ –¥–ª—è –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é */
        @media (prefers-color-scheme: dark) {
            .option-btn {
                background: linear-gradient(145deg, #2d3748, #4a5568);
                color: #f7fafc;
                border-color: #4a5568;
            }
            
            .option-btn:hover {
                background: linear-gradient(145deg, #4a5568, #718096);
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üéÆ –†–æ–∑–ø—ñ–∑–Ω–∞–π –µ–º–æ—Ü—ñ—é!</h1>
        
        <div class="score">
            –†–∞—Ö—É–Ω–æ–∫: <span id="score">0</span> / <span id="total">0</span>
        </div>
        
        <div id="game-area">
            <div class="emotion-display" id="emotion-emoji">üòä</div>
            <div class="question">–Ø–∫–∞ —Ü–µ –µ–º–æ—Ü—ñ—è?</div>
            
            <div class="options" id="options">
                <!-- Options will be generated here -->
            </div>
            
            <div id="feedback" class="feedback" style="display: none;"></div>
            
            <button id="next-btn" class="next-btn" style="display: none;">–ù–∞—Å—Ç—É–ø–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è</button>
        </div>
        
        <div id="final-screen" style="display: none;">
            <div class="final-score">
                <h2>üéâ –ì—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
                <p>–¢–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <span id="final-score-text"></span></p>
                <p id="final-message"></p>
            </div>
            <button id="restart-btn" class="restart-btn">–ì—Ä–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
        </div>
    </div>

    <script>
        const emotions = [
            { emoji: 'üòä', name: '–†–∞–¥—ñ—Å—Ç—å', options: ['–†–∞–¥—ñ—Å—Ç—å', '–°—É–º', '–ó–ª—ñ—Å—Ç—å', '–°—Ç—Ä–∞—Ö'] },
            { emoji: 'üò¢', name: '–°—É–º', options: ['–†–∞–¥—ñ—Å—Ç—å', '–°—É–º', '–ó–¥–∏–≤—É–≤–∞–Ω–Ω—è', '–ó–ª—ñ—Å—Ç—å'] },
            { emoji: 'üò†', name: '–ó–ª—ñ—Å—Ç—å', options: ['–°—É–º', '–†–∞–¥—ñ—Å—Ç—å', '–ó–ª—ñ—Å—Ç—å', '–°—Ç—Ä–∞—Ö'] },
            { emoji: 'üò®', name: '–°—Ç—Ä–∞—Ö', options: ['–ó–ª—ñ—Å—Ç—å', '–†–∞–¥—ñ—Å—Ç—å', '–°—Ç—Ä–∞—Ö', '–°—É–º'] },
            { emoji: 'üòÆ', name: '–ó–¥–∏–≤—É–≤–∞–Ω–Ω—è', options: ['–ó–¥–∏–≤—É–≤–∞–Ω–Ω—è', '–†–∞–¥—ñ—Å—Ç—å', '–°—É–º', '–ó–ª—ñ—Å—Ç—å'] },
            { emoji: 'üò¥', name: '–í—Ç–æ–º–∞', options: ['–†–∞–¥—ñ—Å—Ç—å', '–í—Ç–æ–º–∞', '–ó–ª—ñ—Å—Ç—å', '–°—Ç—Ä–∞—Ö'] },
            { emoji: 'ü§î', name: '–†–æ–∑–¥—É–º–∏', options: ['–†–æ–∑–¥—É–º–∏', '–°—É–º', '–†–∞–¥—ñ—Å—Ç—å', '–ó–ª—ñ—Å—Ç—å'] },
            { emoji: 'üòç', name: '–ó–∞–∫–æ—Ö–∞–Ω—ñ—Å—Ç—å', options: ['–ó–ª—ñ—Å—Ç—å', '–ó–∞–∫–æ—Ö–∞–Ω—ñ—Å—Ç—å', '–°—Ç—Ä–∞—Ö', '–°—É–º'] },
            { emoji: 'ü§ó', name: '–ù—ñ–∂–Ω—ñ—Å—Ç—å', options: ['–ù—ñ–∂–Ω—ñ—Å—Ç—å', '–ó–ª—ñ—Å—Ç—å', '–°—Ç—Ä–∞—Ö', '–°—É–º'] },
            { emoji: 'üò§', name: '–û–±—É—Ä–µ–Ω–Ω—è', options: ['–†–∞–¥—ñ—Å—Ç—å', '–°—É–º', '–û–±—É—Ä–µ–Ω–Ω—è', '–°—Ç—Ä–∞—Ö'] }
        ];

        let currentQuestion = 0;
        let score = 0;
        let gameQuestions = [];
        let answered = false;

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startGame() {
            currentQuestion = 0;
            score = 0;
            gameQuestions = shuffleArray(emotions).slice(0, 8); // 8 –ø–∏—Ç–∞–Ω—å
            document.getElementById('final-screen').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            showQuestion();
        }

        function showQuestion() {
            if (currentQuestion >= gameQuestions.length) {
                showFinalScreen();
                return;
            }

            answered = false;
            const question = gameQuestions[currentQuestion];
            
            document.getElementById('emotion-emoji').textContent = question.emoji;
            document.getElementById('score').textContent = score;
            document.getElementById('total').textContent = currentQuestion;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            const shuffledOptions = shuffleArray(question.options);
            
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => selectOption(option, question.name, button);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('feedback').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
        }

        function selectOption(selected, correct, buttonElement) {
            if (answered) return;
            answered = true;

            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(btn => btn.style.pointerEvents = 'none');

            const feedback = document.getElementById('feedback');
            
            if (selected === correct) {
                score++;
                buttonElement.classList.add('correct');
                feedback.textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ú–æ–ª–æ–¥–µ—Ü—å! üéâ';
                feedback.className = 'feedback correct';
            } else {
                buttonElement.classList.add('wrong');
                // –ü–æ–∫–∞–∑–∞—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
                buttons.forEach(btn => {
                    if (btn.textContent === correct) {
                        btn.classList.add('correct');
                    }
                });
                feedback.textContent = `–ù–µ –∑–æ–≤—Å—ñ–º. –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: ${correct} ü§î`;
                feedback.className = 'feedback wrong';
            }
            
            feedback.style.display = 'block';
            document.getElementById('next-btn').style.display = 'inline-block';
        }

        function nextQuestion() {
            currentQuestion++;
            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(btn => {
                btn.style.pointerEvents = 'auto';
                btn.classList.remove('correct', 'wrong');
            });
            showQuestion();
        }

        function showFinalScreen() {
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('final-screen').style.display = 'block';
            
            const percentage = Math.round((score / gameQuestions.length) * 100);
            document.getElementById('final-score-text').textContent = `${score} –∑ ${gameQuestions.length} (${percentage}%)`;
            
            const messageElement = document.getElementById('final-message');
            if (percentage >= 80) {
                messageElement.textContent = '–§–∞–Ω—Ç–∞—Å—Ç–∏—á–Ω–æ! –¢–∏ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –µ–∫—Å–ø–µ—Ä—Ç –∑ –µ–º–æ—Ü—ñ–π! üåü';
            } else if (percentage >= 60) {
                messageElement.textContent = '–î–æ–±—Ä–µ! –¢–∏ –Ω–µ–ø–æ–≥–∞–Ω–æ —Ä–æ–∑—É–º—ñ—î—à—Å—è –Ω–∞ –µ–º–æ—Ü—ñ—è—Ö! üëç';
            } else {
                messageElement.textContent = '–ù–µ –∑–∞—Å–º—É—á—É–π—Å—è! –°–ø—Ä–æ–±—É–π —â–µ —Ä–∞–∑ —ñ —Ç–∏ –æ–±–æ–≤\'—è–∑–∫–æ–≤–æ –ø–æ–∫—Ä–∞—â–∏—à—Å—è! üí™';
            }
        }

        // Event listeners
        document.getElementById('next-btn').onclick = nextQuestion;
        document.getElementById('restart-btn').onclick = startGame;

        // Start the game
        startGame();
    </script>
</body>
</html>
